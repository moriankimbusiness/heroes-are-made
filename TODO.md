# TODO

## 현재 트랙 (2026-02-25, 수)
- [x] 이월 항목 제거 완료 (백로그 전용 트랙으로 전환)

## 오늘 완료 (2026-02-25, 수)
- [x] 히어로 클릭 시 상태창 표시 + 히어로 우측 고정 배치
- [x] 히어로 드래그 이동 중 상태창 추적
- [x] 상태창 좌측 스텟창/우측 장비창 UI 구성
- [x] 힘/민첩/지능 + 물리/마법/공격속도 계산 파이프라인 구현
- [x] 민첩 기반 선형 APS 공식 적용 (`APS = base * (1 + AGI * k)`, 최소 0.1)
- [x] 스텟 양수/음수 표시 규칙 적용 (음수 빨간색)
- [x] 인벤토리 9칸 UI 및 드래그 앤 드랍 슬롯 이동 구현
- [x] 아이템 타입(무기/투구/갑옷/방패/신발) 데이터 모델 구축
- [x] 클릭 자동 장착 + 장비 클릭 해제(인벤토리 반환) 구현
- [x] 장비 5슬롯(머리/왼손/몸/오른손/발) 구현
- [x] 장비/인벤토리 Hover 흰색 윤곽선 + 상세 정보 툴팁 구현
- [x] 동일 아이템 드래그 중 초록 윤곽선, 비동일 아이템 빨강 윤곽선 구현
- [x] 동일 아이템 드롭 시 강화(+1) + 소모 로직 구현
- [x] 강화 단계 배율 테이블 적용 및 전투 스텟 즉시 갱신
- [x] 밸런스 문서 추가
  - [x] `docs/balance/attack_speed_table.md`
  - [x] `docs/balance/enhance_table.md`
- [x] Hero 클릭 시에만 상태창 표시되도록 선택 로직 정리 (자동선택 제거)
- [x] 인벤토리를 Hero별에서 공용 9칸 인벤토리로 전환
- [x] 인벤토리 <-> 장비창 양방향 상호작용 확장
  - [x] 인벤토리 -> 장비창: 클릭 장착 + 드래그 드롭 장착
  - [x] 장비창 -> 인벤토리: 클릭 해제 + 드래그 드롭 이동
- [x] 상태창 외부(비-UI 월드) 클릭 시 상태창 닫기 동작 추가

## 백로그 (기획서 미구현)

### 히어로 상태창
- [x] 히어로 클릭 시 상태창 표시 (히어로 기준 오른쪽 배치)
- [x] 히어로 드래그 이동 중 상태창 추적(항상 히어로 기준 위치 유지)

### 스텟창
- [x] 상태창 왼쪽에 스텟창 UI 배치
- [x] 힘/민첩/지능 스텟 표시 및 계산 파이프라인 정의
- [x] 힘 -> 물리공격력 반영 규칙 구현
- [x] 민첩 -> 공격속도 반영 규칙 구현
- [x] 타워디펜스 공격속도 수치화 기준표(데이터 테이블) 작성
- [x] 지능 -> 마법공격력 반영 규칙 구현
- [x] 스텟값 양수/음수 처리 및 UI 표기 규칙 적용

### 장비창
- [x] 상태창 오른쪽에 장비창 UI 배치
- [x] 장비 슬롯 5종 구현(머리/왼손/몸/오른손/발)
- [x] 장비 착용 시 아이템 스텟이 히어로 스텟에 반영되도록 연결
- [x] 장비 슬롯 Hover 상호작용 구현(흰색 윤곽선 + 상세 정보)
- [x] 장비 아이템 클릭 시 인벤토리로 반환

### 인벤토리
- [x] 화면 중앙 하단 인벤토리 UI 배치
- [x] 가로 9칸 슬롯 구성
- [x] 아이템 타입 정의(무기/투구/갑옷/방패/신발)
- [x] 인벤토리 아이템 Hover 상호작용 구현(흰색 윤곽선 + 상세 정보)
- [x] 인벤토리 아이템 클릭 시 장비창 올바른 슬롯으로 자동 장착
- [x] 인벤토리 내 아이템 드래그 앤 드랍으로 슬롯 위치 변경

### 조합/강화
- [x] 아이템 조합 가능 여부 시각화 구현(동일 아이템: 초록 윤곽선, 비동일: 빨강 윤곽선)
- [x] 동일 아이템 1개를 동일 아이템 위로 드래그 앤 드랍 시 강화 진행
- [x] 강화 단계(+1, +2, +3, +4...)별 기본 공격력 증가 밸런스 테이블 작성
- [x] 강화 결과 스텟/공격력 반영 및 UI 갱신

## 성능/아키텍처 & 검증 (2026-02-25)
- [x] 이벤트 기반 UI 갱신 유지 (Hero 시그널 기반 선택/추적/스텟 갱신)
- [x] 불필요한 `_process`/`_physics_process` 신규 추가 없음
- [x] Inspector/Resource 기반 값(authoritative) 유지
- [x] UI 입력 라우팅 정리: 드래그 중 클릭 닫기 오동작 방지(`_slot_drag_in_progress`)
- [x] Godot CLI 검증 통과
  - [x] 명령어: `/mnt/c/Godot_v4.6.1/Godot_v4.6.1-stable_win64_console.exe --headless --path . --quit`
